<!DOCTYPE html>
<html>
  <head>
    <title>Sparks Cipher Encryption</title>
    <style>
        button {
            font-size: 100%;
            padding: 5px 10px;
            width: auto;
            filter: saturate(0);
            filter: invert(100%);
          }
        nav{
            width: 100%;
            align-items: center;
            margin-top:10%;
        }
      body {
        overflow: hidden;
        background-color: black;
        display: flex;
        flex-direction: column;
        text-align: center;
        align-items: center;
        height: 100vh;
        margin: 10px;
        font-family: Consolas;
      }

    .typed-out{
        overflow: hidden;
        border-right: .15em solid green;
        white-space: nowrap;
        margin-top: 10%;
        font-size: 300%;
        color: green;
        animation: 
          typing 1.5s steps(20, end) forwards,
          blinking .75s infinite;
        width: 0;
    }
    @keyframes typing {
      from { width: 0 }
      to { width: 100%; }
    }
    @keyframes blinking {
      from { border-color: transparent }
      to { border-color: green; }
    }
      #inputText,
      #outputText {
        width: 40%;
        height: 10%;
        resize: none;
        box-sizing: border-box;
        filter: saturate(0%);
        filter: invert();
      }
      textarea {
        width: 100%;
        margin-bottom: 10px;
      }

    </style>
  </head>
  <body>
        
        <div class="c2">
            <div class="typed-out">
                Crypts Sypher Encryption
            </div>
        </div>
      <nav>  
      <button onclick="encryptMessage()">Encrypt</button>
      <button onclick="decryptMessage()">Decrypt</button>
      <button onclick="copyOutput()">Copy</button>
      <button onclick="exportMessage()">Export</button>
      <button onclick="clearText()">Clear</button>
    </nav>
    <br id="br" />
    <textarea
      id="inputText"
      placeholder="Enter text to encrypt/decrypt"
    ></textarea>
    <textarea id="outputText" readonly></textarea>

    <script>
      function pigpenCipher(text) {
        // Define the Pigpen cipher key with custom symbols
        const pigpenKey = {
            'A': '游댯游댖游댯 ',
        'B': '游댯游댖游댖 ',
        'C': '游댖游댖游댯 ',
        'D': '游댖游댖游댖 ',
        'E': '游댯游댯游댖 ',
        'F': '游댯游댯游댯 ',
        'G': '游댯游댮游댖 ',
        'H': '游댯游댮游댯 ',
        'I': '游댮游댖游댖 ',
        'J': '游댮游댖游댯 ',
        'K': '游댮游릮游댖 ',
        'L': '游댮游댮游댯 ',
        'M': '游댮游댯游댖 ',
        'N': '游댮游댯游댯 ',
        'O': '游댖游댮游댖 ',
        'P': '游댖游댮游댯 ',
        'Q': '游댮游댯游댮 ',
        'R': '游댮游댮游댮 ',
        'S': '游댯游댮游릮 ',
        'T': '游댯游댯游댮 ',
        'U': '游댖游댮游댮 ',
        'V': '游댖游댯游댮 ',
        'W': '游댯游댮游댮 ',
        'X': '游댮游댖游댮 ',
        'Y': '游댮游댮游댖 ',
        'Z': '游댯游댖游댮 ',
        ' ': '游리游멇리 ',
        '!': '游리游멇릢 ',
        '.': '游리游멇릢 ',
        '?': '游리游멇릢 ',
        ',': '游리游댖游 ',
        '0': '游댮游멇릯 ',
        '1': '游릯游댮游 ',
        '2': '游리游댖游댮 ',
        '3': '游댖游멇릢 ',
        '4': '游댯游릯游 ',
        '5': '游리游댯游릯 ',
        '6': '游댖游멇릯 ',
        '7': '游릯游멇 ',
        '8': '游리游멇릯 ',
        '9': '游리游릯游 '
        };

        // Convert the input text to uppercase
        text = text.toUpperCase();

        // Encrypt the text using Pigpen cipher
        let encryptedText = "";
        for (let char of text) {
          if (char in pigpenKey) {
            encryptedText += pigpenKey[char];
          }
        }

        return encryptedText;
      }

      function pigpenDecipher(encryptedText) {
        // Define the Pigpen cipher key for decryption
        const pigpenKey = {
            '游댯游댖游댯': 'A',
        '游댯游댖游댖': 'B',
        '游댖游댖游댯': 'C',
        '游댖游댖游댖': 'D',
        '游댯游댯游댖': 'E',
        '游댯游댯游댯': 'F',
        '游댯游댮游댖': 'G',
        '游댯游댮游댯': 'H',
        '游댮游댖游댖': 'I',
        '游댮游댖游댯': 'J',
        '游댮游릮游댖': 'K',
        '游댮游댮游댯': 'L',
        '游댮游댯游댖': 'M',
        '游댮游댯游댯': 'N',
        '游댖游댮游댖': 'O',
        '游댖游댮游댯': 'P',
        '游댮游댯游댮': 'Q',
        '游댮游댮游댮': 'R',
        '游댯游댮游릮': 'S',
        '游댯游댯游댮': 'T',
        '游댖游댮游댮': 'U',
        '游댖游댯游댮': 'V',
        '游댯游댮游댮': 'W',
        '游댮游댖游댮': 'X',
        '游댮游댮游댖': 'Y',
        '游댯游댖游댮': 'Z',
        '游리游멇리': ' ',
        '游리游멇릢': '!',
        '游리游멇릢': '.',
        '游리游멇릢': '?',
        '游리游댖游': ',',
        '游댮游멇릯': '0',
        '游릯游댮游': '1',
        '游리游댖游댮': '2',
        '游댖游멇릢': '3',
        '游댯游릯游': '4',
        '游리游댯游릯': '5',
        '游댖游멇릯': '6',
        '游릯游멇': '7',
        '游리游멇릯': '8',
        '游리游릯游': '9'
        };

        // Decrypt the encrypted text using Pigpen cipher
        let decryptedText = "";
        const encryptedSymbols = encryptedText.split(" ");
        for (let symbol of encryptedSymbols) {
          if (symbol in pigpenKey) {
            decryptedText += pigpenKey[symbol];
          }
        }

        return decryptedText;
      }

      function encryptMessage() {
        const inputElement = document.getElementById("inputText");
        const outputElement = document.getElementById("outputText");
        const message = inputElement.value.trim();
        const encryptedMessage = pigpenCipher(message);
        outputElement.value = encryptedMessage;
      }

      function decryptMessage() {
        const inputElement = document.getElementById("inputText");
        const outputElement = document.getElementById("outputText");
        const encryptedMessage = inputElement.value.trim();
        const decryptedMessage = pigpenDecipher(encryptedMessage);
        outputElement.value = decryptedMessage;
      }
      function copyOutput() {
        const outputTextArea = document.getElementById("outputText");
        outputTextArea.select();
        document.execCommand("copy");
        alert("Copied to clipboard");
      }

      function pasteInput() {
        const inputTextArea = document.getElementById("inputText");
        inputTextArea.value = "";
        inputTextArea.focus();
        document.execCommand("paste");
      }

      function exportMessage() {
        const outputTextArea = document.getElementById("outputText");
        const message = outputTextArea.value;
        const blob = new Blob([message], { type: "text/plain;charset=utf-8" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "encrypted_message.txt";
        a.click();
        URL.revokeObjectURL(url);
      }

      function clearText() {
        const inputTextArea = document.getElementById("inputText");
        const outputTextArea = document.getElementById("outputText");
        inputTextArea.value = "";
        outputTextArea.value = "";
      }
      
      const textToType = "Sparks Cipher Encryption"; // Text to be typed
      const typingSpeed = 100; // Speed of typing in milliseconds
    
      function typeText(element, text, index) {
        if (index < text.length) {
          element.innerHTML = text.substring(0, index + 1);
          index++;
          setTimeout(() => {
            typeText(element, text, index);
          }, typingSpeed);
        }
      }
    
      // Start typing animation when the page loads
      window.addEventListener("load", () => {
        const typingElement = document.getElementById("typingEffect");
        typeText(typingElement, textToType, 0);
      });
    </script>
    </script>
  </body>
</html>
