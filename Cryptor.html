<!DOCTYPE html>
<html>
  <head>
    <title>Sparks Cipher Encryption</title>
    <style>
        button {
            font-size: 100%;
            padding: 5px 10px;
            width: auto;
            filter: saturate(0);
            filter: invert(100%);
          }
        nav{
            width: 100%;
            align-items: center;
            margin-top:10%;
        }
      body {
        overflow: hidden;
        background-color: black;
        display: flex;
        flex-direction: column;
        text-align: center;
        align-items: center;
        height: 100vh;
        margin: 10px;
        font-family: Consolas;
      }

    .typed-out{
        overflow: hidden;
        border-right: .15em solid green;
        white-space: nowrap;
        margin-top: 10%;
        font-size: 300%;
        color: green;
        animation: 
          typing 1.5s steps(20, end) forwards,
          blinking .75s infinite;
        width: 0;
    }
    @keyframes typing {
      from { width: 0 }
      to { width: 100%; }
    }
    @keyframes blinking {
      from { border-color: transparent }
      to { border-color: green; }
    }
      #inputText,
      #outputText {
        width: 40%;
        height: 10%;
        resize: none;
        box-sizing: border-box;
        filter: saturate(0%);
        filter: invert();
      }
      textarea {
        width: 100%;
        margin-bottom: 10px;
      }

    </style>
  </head>
  <body>
        
        <div class="c2">
            <div class="typed-out">
                Crypts Sypher Encryption
            </div>
        </div>
      <nav>  
      <button onclick="encryptMessage()">Encrypt</button>
      <button onclick="decryptMessage()">Decrypt</button>
      <button onclick="copyOutput()">Copy</button>
      <button onclick="exportMessage()">Export</button>
      <button onclick="clearText()">Clear</button>
    </nav>
    <br id="br" />
    <textarea
      id="inputText"
      placeholder="Enter text to encrypt/decrypt"
    ></textarea>
    <textarea id="outputText" readonly></textarea>

    <script>
      function pigpenCipher(text) {
        // Define the Pigpen cipher key with custom symbols
        const pigpenKey = {
            'A': '🔵🔘🔵 ',
        'B': '🔵🔘🔘 ',
        'C': '🔘🔘🔵 ',
        'D': '🔘🔘🔘 ',
        'E': '🔵🔵🔘 ',
        'F': '🔵🔵🔵 ',
        'G': '🔵🔴🔘 ',
        'H': '🔵🔴🔵 ',
        'I': '🔴🔘🔘 ',
        'J': '🔴🔘🔵 ',
        'K': '🔴🟣🔘 ',
        'L': '🔴🔴🔵 ',
        'M': '🔴🔵🔘 ',
        'N': '🔴🔵🔵 ',
        'O': '🔘🔴🔘 ',
        'P': '🔘🔴🔵 ',
        'Q': '🔴🔵🔴 ',
        'R': '🔴🔴🔴 ',
        'S': '🔵🔴🟣 ',
        'T': '🔵🔵🔴 ',
        'U': '🔘🔴🔴 ',
        'V': '🔘🔵🔴 ',
        'W': '🔵🔴🔴 ',
        'X': '🔴🔘🔴 ',
        'Y': '🔴🔴🔘 ',
        'Z': '🔵🔘🔴 ',
        ' ': '🟡🟠🟡 ',
        '!': '🟡🟠🔴 ',
        '.': '🟡🟠🔘 ',
        '?': '🟡🟠🔵 ',
        ',': '🟡🔘🟠 ',
        '0': '🔴🟠🟤 ',
        '1': '🟤🔴🟠 ',
        '2': '🟡🔘🔴 ',
        '3': '🔘🟠🔵 ',
        '4': '🔵🟤🟠 ',
        '5': '🟡🔵🟤 ',
        '6': '🔘🟠🟤 ',
        '7': '🟤🟠🟠 ',
        '8': '🟡🟠🟤 ',
        '9': '🟡🟤🟠 '
        };

        // Convert the input text to uppercase
        text = text.toUpperCase();

        // Encrypt the text using Pigpen cipher
        let encryptedText = "";
        for (let char of text) {
          if (char in pigpenKey) {
            encryptedText += pigpenKey[char];
          }
        }

        return encryptedText;
      }

      function pigpenDecipher(encryptedText) {
        // Define the Pigpen cipher key for decryption
        const pigpenKey = {
            '🔵🔘🔵': 'A',
        '🔵🔘🔘': 'B',
        '🔘🔘🔵': 'C',
        '🔘🔘🔘': 'D',
        '🔵🔵🔘': 'E',
        '🔵🔵🔵': 'F',
        '🔵🔴🔘': 'G',
        '🔵🔴🔵': 'H',
        '🔴🔘🔘': 'I',
        '🔴🔘🔵': 'J',
        '🔴🟣🔘': 'K',
        '🔴🔴🔵': 'L',
        '🔴🔵🔘': 'M',
        '🔴🔵🔵': 'N',
        '🔘🔴🔘': 'O',
        '🔘🔴🔵': 'P',
        '🔴🔵🔴': 'Q',
        '🔴🔴🔴': 'R',
        '🔵🔴🟣': 'S',
        '🔵🔵🔴': 'T',
        '🔘🔴🔴': 'U',
        '🔘🔵🔴': 'V',
        '🔵🔴🔴': 'W',
        '🔴🔘🔴': 'X',
        '🔴🔴🔘': 'Y',
        '🔵🔘🔴': 'Z',
        '🟡🟠🟡': ' ',
        '🟡🟠🔴': '!',
        '🟡🟠🔘': '.',
        '🟡🟠🔵': '?',
        '🟡🔘🟠': ',',
        '🔴🟠🟤': '0',
        '🟤🔴🟠': '1',
        '🟡🔘🔴': '2',
        '🔘🟠🔵': '3',
        '🔵🟤🟠': '4',
        '🟡🔵🟤': '5',
        '🔘🟠🟤': '6',
        '🟤🟠🟠': '7',
        '🟡🟠🟤': '8',
        '🟡🟤🟠': '9'
        };

        // Decrypt the encrypted text using Pigpen cipher
        let decryptedText = "";
        const encryptedSymbols = encryptedText.split(" ");
        for (let symbol of encryptedSymbols) {
          if (symbol in pigpenKey) {
            decryptedText += pigpenKey[symbol];
          }
        }

        return decryptedText;
      }

      function encryptMessage() {
        const inputElement = document.getElementById("inputText");
        const outputElement = document.getElementById("outputText");
        const message = inputElement.value.trim();
        const encryptedMessage = pigpenCipher(message);
        outputElement.value = encryptedMessage;
      }

      function decryptMessage() {
        const inputElement = document.getElementById("inputText");
        const outputElement = document.getElementById("outputText");
        const encryptedMessage = inputElement.value.trim();
        const decryptedMessage = pigpenDecipher(encryptedMessage);
        outputElement.value = decryptedMessage;
      }
      function copyOutput() {
        const outputTextArea = document.getElementById("outputText");
        outputTextArea.select();
        document.execCommand("copy");
        alert("Copied to clipboard");
      }

      function pasteInput() {
        const inputTextArea = document.getElementById("inputText");
        inputTextArea.value = "";
        inputTextArea.focus();
        document.execCommand("paste");
      }

      function exportMessage() {
        const outputTextArea = document.getElementById("outputText");
        const message = outputTextArea.value;
        const blob = new Blob([message], { type: "text/plain;charset=utf-8" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "encrypted_message.txt";
        a.click();
        URL.revokeObjectURL(url);
      }

      function clearText() {
        const inputTextArea = document.getElementById("inputText");
        const outputTextArea = document.getElementById("outputText");
        inputTextArea.value = "";
        outputTextArea.value = "";
      }
      
      const textToType = "Sparks Cipher Encryption"; // Text to be typed
      const typingSpeed = 100; // Speed of typing in milliseconds
    
      function typeText(element, text, index) {
        if (index < text.length) {
          element.innerHTML = text.substring(0, index + 1);
          index++;
          setTimeout(() => {
            typeText(element, text, index);
          }, typingSpeed);
        }
      }
    
      // Start typing animation when the page loads
      window.addEventListener("load", () => {
        const typingElement = document.getElementById("typingEffect");
        typeText(typingElement, textToType, 0);
      });
    </script>
    </script>
  </body>
</html>
