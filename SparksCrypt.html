<!DOCTYPE html>
<html>
  <head>
    <title>Spark Cipher Encryption</title>
    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <container>
    <div class="nav">
      <button onclick="encryptMessage()">Encrypt</button>
      <button onclick="decryptMessage()">Decrypt</button>
      <button onclick="copyOutput()">Copy</button>
      <button onclick="pasteInput()">Paste</button>
      <button onclick="exportMessage()">Export</button>
      <button onclick="clearText()">Clear</button>
      <a id="back" href="index.html">back</a>
    </div>
    
    <div class="textareas-container">
        <textarea id="inputText" rows="5" class="locked-textarea"></textarea>
        <textarea id="outputText" rows="5" class="locked-textarea" disabled></textarea>
      </div>
      
      </container>
    <script>
      function pigpenCipher(text) {
        // Define the Pigpen cipher key with custom symbols
        const pigpenKey = {
          A: "游댯游댖游댯 ",
          B: "游댯游댖游댖 ",
          C: "游댖游댖游댯 ",
          D: "游댖游댖游댖 ",
          E: "游댯游댯游댖 ",
          F: "游댯游댯游댯 ",
          G: "游댯游댮游댖 ",
          H: "游댯游댮游댯 ",
          I: "游댮游댖游댖 ",
          J: "游댮游댖游댯 ",
          K: "游댮游릮游댖 ",
          L: "游댮游댮游댯 ",
          M: "游댮游댯游댖 ",
          N: "游댮游댯游댯 ",
          O: "游댖游댮游댖 ",
          P: "游댖游댮游댯 ",
          Q: "游댮游댯游댮 ",
          R: "游댮游댮游댮 ",
          S: "游댯游댮游릮 ",
          T: "游댯游댯游댮 ",
          U: "游댖游댮游댮 ",
          V: "游댖游댯游댮 ",
          W: "游댯游댮游댮 ",
          X: "游댮游댖游댮 ",
          Y: "游댮游댮游댖 ",
          Z: "游댯游댖游댮 ",
          " ": "游리游멇리 ",
          "!": "游리游멇릢 ",
          ".": "游리游멇릢 ",
          "?": "游리游멇릢 ",
          ",": "游리游멇 ",
        };

        // Convert the input text to uppercase
        text = text.toUpperCase();

        // Encrypt the text using Pigpen cipher
        let encryptedText = "";
        for (let char of text) {
          if (char in pigpenKey) {
            encryptedText += pigpenKey[char];
          }
        }

        return encryptedText;
      }

      function pigpenDecipher(encryptedText) {
        // Define the Pigpen cipher key for decryption
        const pigpenKey = {
          "游댯游댖游댯": "A",
          "游댯游댖游댖": "B",
          "游댖游댖游댯": "C",
          "游댖游댖游댖": "D",
          "游댯游댯游댖": "E",
          "游댯游댯游댯": "F",
          "游댯游댮游댖": "G",
          "游댯游댮游댯": "H",
          "游댮游댖游댖": "I",
          "游댮游댖游댯": "J",
          "游댮游릮游댖": "K",
          "游댮游댮游댯": "L",
          "游댮游댯游댖": "M",
          "游댮游댯游댯": "N",
          "游댖游댮游댖": "O",
          "游댖游댮游댯": "P",
          "游댮游댯游댮": "Q",
          "游댮游댮游댮": "R",
          "游댯游댮游릮": "S",
          "游댯游댯游댮": "T",
          "游댖游댮游댮": "U",
          "游댖游댯游댮": "V",
          "游댯游댮游댮": "W",
          "游댮游댖游댮": "X",
          "游댮游댮游댖": "Y",
          "游댯游댖游댮": "Z",
          "游리游멇리": " ",
          "游리游멇릢": "!",
          "游리游멇릢": ".",
          "游리游멇릢": "?",
          "游리游멇": ",",
        };

        // Decrypt the encrypted text using Pigpen cipher
        let decryptedText = "";
        const encryptedSymbols = encryptedText.split(" ");
        for (let symbol of encryptedSymbols) {
          if (symbol in pigpenKey) {
            decryptedText += pigpenKey[symbol];
          }
        }

        return decryptedText;
      }

      function encryptMessage() {
        const inputElement = document.getElementById("inputText");
        const outputElement = document.getElementById("outputText");
        const message = inputElement.value.trim();
        const encryptedMessage = pigpenCipher(message);
        outputElement.value = encryptedMessage;
      }

      function decryptMessage() {
        const inputElement = document.getElementById("inputText");
        const outputElement = document.getElementById("outputText");
        const encryptedMessage = inputElement.value.trim();
        const decryptedMessage = pigpenDecipher(encryptedMessage);
        outputElement.value = decryptedMessage;
      }

      function copyOutput() {
        const outputElement = document.getElementById("outputText");
        outputElement.select();
        document.execCommand("copy");
      }

      function pasteInput() {
        const inputElement = document.getElementById("inputText");
        inputElement.value = "";
        inputElement.focus();
        document.execCommand("paste");
      }

      function exportMessage() {
        const outputElement = document.getElementById("outputText");
        const message = outputElement.value;
        const blob = new Blob([message], { type: "text/plain" });
        const anchor = document.createElement("a");
        anchor.href = URL.createObjectURL(blob);
        anchor.download = "output.txt";
        anchor.click();
      }

      function clearText() {
        const inputElement = document.getElementById("inputText");
        const outputElement = document.getElementById("outputText");
        inputElement.value = "";
        outputElement.value = "";
      }
    </script>
  </body>
</html>
